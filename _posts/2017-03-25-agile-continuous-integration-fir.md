---
layout: post
title: "[ æ•æ· ] ç§»åŠ¨ç«¯æŒç»­é›†æˆï¼šJenkinsã€fir.im"
description: ""
category: æ•æ·
tags: ["æ•æ·", "æŒç»­é›†æˆ", "Jenkins", "fir.im"]
published: true
---

# æŒç»­é›†æˆ

æ•æ·ä¸­é‡è¦çš„ä¸€é¡¹å°±æ˜¯æŒç»­é›†æˆï¼Œç®€ç§° CIã€‚

![ci](/images/post/2017-03-25-agile-continuous-integration-fir/ci.svg)

> æŒç»­é›†æˆæ˜¯ä¸€ç§è½¯ä»¶å¼€å‘å®è·µï¼Œå³å›¢é˜Ÿå¼€å‘æˆå‘˜ç»å¸¸é›†æˆä»–ä»¬çš„å·¥ä½œï¼Œé€šè¿‡æ¯ä¸ªæˆå‘˜æ¯å¤©è‡³å°‘é›†æˆä¸€æ¬¡ï¼Œä¹Ÿå°±æ„å‘³ç€æ¯å¤©å¯èƒ½ä¼šå‘ç”Ÿå¤šæ¬¡é›†æˆã€‚æ¯æ¬¡é›†æˆéƒ½é€šè¿‡è‡ªåŠ¨åŒ–çš„æ„å»ºï¼ˆåŒ…æ‹¬ç¼–è¯‘ï¼Œå‘å¸ƒï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼‰æ¥éªŒè¯ï¼Œä»è€Œå°½æ—©åœ°å‘ç°é›†æˆé”™è¯¯ã€‚ä¸æŒç»­é›†æˆç›¸å…³çš„ï¼Œè¿˜æœ‰ä¸¤ä¸ªæ¦‚å¿µï¼Œåˆ†åˆ«æ˜¯æŒç»­äº¤ä»˜å’ŒæŒç»­éƒ¨ç½²ã€‚

## ç§»åŠ¨ç«¯æŒç»­é›†æˆ

![ci1](/images/post/2017-03-25-agile-continuous-integration-fir/ci1.svg)

* æ¯å¤©19:00è‡ªåŠ¨è·å–æºç 

* æ£€æŸ¥æºç æ˜¯å¦æœ‰å˜æ›´ï¼Œå¦‚æœæœ‰å˜æ›´ï¼Œï¼ˆæ‰§è¡Œå•å…ƒæµ‹è¯•ï¼Œé¡¹ç›®æ²¡å†™å•å…ƒæµ‹è¯•ğŸ˜“ï¼‰æ‰§è¡Œç¼–è¯‘æ‰“åŒ…ï¼Œç”Ÿæˆå®‰è£…åŒ…æ–‡ä»¶

* å°†å®‰è£…åŒ…ä¸Šä¼  fir.im(App æ‰˜ç®¡åˆ†å‘æœåŠ¡çš„å¹³å°)

* Email å‘é€æ„å»ºæŠ¥å‘Š

## å®‰è£…æŒç»­é›†æˆå·¥å…· Jenkins

[Jenkins](https://jenkins.io/index.html) å®˜ç½‘ï¼Œä¸‹è½½å®‰è£…åŒ…å®‰è£…ã€‚

æˆ‘æ˜¯ä½¿ç”¨ *Homebrew* è¿›è¡Œå®‰è£…çš„ï¼Œå®‰è£… *Homebrew*ã€‚

```bash
/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
```

å®‰è£… Jenkins

```bash
brew install jenkins    
```

å¯åŠ¨ Jenkins

```bash
jenkins    
```

è¯·åœ¨æµè§ˆå™¨è¾“å…¥åœ°å€ï¼šhttp://localhost:8080/

åˆå§‹åŒ–è¿‡ç¨‹...çœç•¥ä¸€ç™¾å­—ã€‚

## é…ç½® Jenkins æ„å»ºé¡¹ç›®

æ–°å»ºä¸€ä¸ªé¡¹ç›®

![ci2](/images/post/2017-03-25-agile-continuous-integration-fir/ci2.png)

é€‰æ‹©â€œæ„å»ºä¸€ä¸ªè‡ªç”±é£æ ¼çš„è½¯ä»¶é¡¹ç›®â€

![ci3](/images/post/2017-03-25-agile-continuous-integration-fir/ci3.png)

ç®€å•é…ç½®å°±ä¸åšä»‹ç»äº†ï¼Œå°†æ¯”è¾ƒé‡è¦çš„è®°å½•ä¸‹æ¥ã€‚

### æ„å»ºè§¦å‘å™¨

æˆ‘é…ç½®çš„æ˜¯å·¥ä½œæ—¥19ï¼š00è¿›è¡Œæ„å»ºï¼Œå‰ç½®æ¡ä»¶æ˜¯å¦‚æœæœ‰æºç å˜æ›´ã€‚

![ci4](/images/post/2017-03-25-agile-continuous-integration-fir/ci4.png)

### æ„å»ºï¼ˆé€‚ç”¨äº iOSã€Androidï¼‰

å¢åŠ æ„å»ºæ­¥éª¤ -> é€‰æ‹©â€œExecute shellâ€ï¼Œè¾“å…¥å‘½ä»¤

![ci5](/images/post/2017-03-25-agile-continuous-integration-fir/ci5.png)

æˆ‘è¿™é‡Œå·æ‡’äº†ï¼Œç›´æ¥ä½¿ç”¨ *fir.im-cli* å‘½ä»¤è¡Œå·¥å…·è¿›è¡Œæ„å»ºï¼Œä½¿ç”¨ *fir.im-cli* [è¯·ç‚¹è¿™é‡Œ](https://github.com/FIRHQ/fir-cli/blob/master/README.md)

### æ„å»ºåæ“ä½œ

å¢åŠ æ„å»ºåæ“ä½œæ­¥éª¤ -> é€‰æ‹©â€œE-mail Notificationâ€

![ci6](/images/post/2017-03-25-agile-continuous-integration-fir/ci6.png)

ä¿å­˜ï¼Œç°åœ¨æ„å»ºå¹¶ä¸ä¼šå‘é€é‚®ä»¶ï¼Œéœ€è¦é…ç½®é‚®ä»¶é€šçŸ¥çš„é‚®ç®±

### é…ç½®é‚®ä»¶é€šçŸ¥

ç³»ç»Ÿç®¡ç† -> ç³»ç»Ÿè®¾ç½®

![ci7](/images/post/2017-03-25-agile-continuous-integration-fir/ci7.png)

è®¾ç½®â€œ	ç³»ç»Ÿç®¡ç†å‘˜é‚®ä»¶åœ°å€â€

è®¾ç½®â€œé‚®ä»¶é€šçŸ¥â€ï¼Œæ ¹æ®ä½ çš„é‚®ç®±è¿›è¡Œè®¾ç½®å³å¯ã€‚

![ci8](/images/post/2017-03-25-agile-continuous-integration-fir/ci8.png)

ä¿å­˜ï¼Œæ‰§è¡Œæ„å»ºï¼Œå®Œï¼ï¼ï¼